import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{T as i,aY as d,ba as T,O as y,R as b,aU as r,aZ as C,aW as o,L as I,M as x,aV as S,aX as E,a_ as B,S as h,bb as ee,a$ as v,bc as te,b5 as P,bd as F,b1 as M,au as Q,N as k,b2 as L,b3 as w,b4 as f,be as ne,P as R,bf as X,K as ae,$ as le,bg as z,U as oe,bh as se,bi as ie,Q as ue}from"./links-B74d3Ke3.js";import{v as H,a as G,b as re}from"./runtime-dom.esm-bundler-KGZqn012.js";import{_ as A}from"./Explanation.vue_vue_type_script_setup_true_lang-DxbH0noY.js";import{b as Z,u as ce}from"./main-DkhY98nZ.js";const pe={},de={id:"input",class:"column is-full-mobile"};function me(e,t){return i(),d("div",de,[T(e.$slots,"default")])}const yt=U(pe,[["render",me]]),_e={},fe={id:"output",class:"column is-full-mobile"};function he(e,t){return i(),d("div",fe,[T(e.$slots,"default")])}const $t=U(_e,[["render",he]]),ge={},ve={class:"table"};function be(e,t){return i(),d("div",ve,[T(e.$slots,"default")])}const ye=U(ge,[["render",be]]),$e={class:"table-cell text"},ke={class:"table-cell data"},Ce={key:1,class:"table-cell"},D=y({__name:"InputRow",setup:e=>(e,t)=>(i(),b(ye,null,{default:r((()=>[e.$slots.label&&e.$slots.input?(i(),d(C,{key:0},[o("div",$e,[T(e.$slots,"label")]),o("div",ke,[T(e.$slots,"input")])],64)):(i(),d("div",Ce,[T(e.$slots,"default")]))])),_:3}))}),xe=o("label",null,"Current release:",-1),we=["value"],kt=y({__name:"ReleaseInput",setup(e){const t=I(),{release:l}=x(t);return(e,t)=>(i(),b(D,null,{label:r((()=>[xe])),input:r((()=>[S(o("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>E(l)?l.value=e:null)},[(i(!0),d(C,null,B(h(ee),(e=>(i(),d("option",{value:e},v(e),9,we)))),256))],512),[[H,h(l)]])])),_:1}))}}),Te={},De={class:"error"};function Se(e,t){return i(),d("p",De,[T(e.$slots,"default")])}const O=U(Te,[["render",Se]]),Ie=["for"],Ee=["list","value","id","maxlength"],Ct=y({__name:"SimpleInput",props:{label:{},identifier:{},list:{},img:{},modelValue:{},error:{},maxlength:{}},emits:["update:modelValue","change"],setup(e,{emit:t}){const l=t;function a(e){if(!(e.target instanceof HTMLInputElement))return;const t=e.target.value;l("update:modelValue",t)}return(e,t)=>(i(),b(D,null,{label:r((()=>[o("label",{for:e.identifier},v(e.label),9,Ie),e.$slots.default?(i(),b(A,{key:0,img:e.img},te({default:r((()=>[T(e.$slots,"default")])),_:2},[e.$slots.heading?{name:"heading",fn:r((()=>[T(e.$slots,"heading")])),key:"0"}:void 0,e.$slots.content?{name:"content",fn:r((()=>[T(e.$slots,"content")])),key:"1"}:void 0]),1032,["img"])):P("",!0)])),input:r((()=>[o("input",{class:F({"error-input":e.error}),list:e.list,value:e.modelValue,id:e.identifier,maxlength:e.maxlength,type:"text",onInput:a,onChange:t[0]||(t[0]=t=>e.$emit("change",t))},null,42,Ee),e.error?(i(),b(O,{key:0,innerHTML:e.error},null,8,["innerHTML"])):P("",!0)])),_:3}))}}),Pe=["href"],N=y({__name:"WikiLink",props:{link:{},text:{}},setup(e){const t=e,l=M((()=>Q+t.link));return(e,t)=>(i(),d("a",{href:l.value,rel:"noopener noreferrer",target:"_blank"},v(e.text),9,Pe))}}),Ve=o("label",{for:"picInput"},"Main image name, including file extension:",-1),Me=o("iframe",{src:"https://nmscd.com/Image-Compressor/",title:"Image Compressor",class:"explanation-embed",width:"450",height:"300"},"Image Compressor",-1),Le=o("div",{class:"mt-3"},[o("span",{class:"has-text-weight-bold"},"NOTE"),f(': You can access this popup at any time by clicking on the "?" next to the main image upload button. ')],-1),Ue=o("a",{href:"https://nmscd.com/Image-Compressor/",target:"_blank",rel:"noopener noreferrer"},"Image Compressor",-1),Be=1e7,xt=y({__name:"InfoboxImageInput",setup(e){const t=I(),{image:l}=x(t),a=k(!1),n=k(!1),s=k(!1),u=k(!1);function p(e){var t;if(!(e.target&&e.target instanceof HTMLInputElement))return;const o=null==(t=e.target.files)?void 0:t[0];l.value=(null==o?void 0:o.name)??"",u.value=!!(o&&o.size>Be),!s.value&&!u.value&&(a.value=!0,n.value=!0,s.value=!0)}return L((()=>{n.value&&!a.value&&(n.value=!1)})),L((()=>{!s.value&&a.value&&(s.value=!0)})),(e,t)=>(i(),b(D,null,{label:r((()=>[Ve,w(A,{open:a.value,"onUpdate:open":t[0]||(t[0]=e=>a.value=e)},{heading:r((()=>[f("File Upload")])),content:r((()=>[n.value?(i(),d(C,{key:1},[o("span",null,[f(" Don't forget to upload your picture to the wiki on "),w(N,{link:"Special:Upload?multiple=true",text:"Special:Upload"}),f(". The upload button only auto-filled the image name into the code, it is not automatically uploaded to the wiki. ")]),Le],64)):(i(),d(C,{key:0},[f(" Any pictures you upload here won't be uploaded to the wiki. This is only to autofill the image name. Maximum filesize is 10MB. You can upload your pictures to the wiki on "),w(N,{link:"Special:Upload?multiple=true",text:"Special:Upload"}),f(". "),Me],64))])),default:r((()=>[f(" Picture won't be uploaded to the wiki. This is only to autofill the image name. ")])),_:1},8,["open"])])),input:r((()=>[S(o("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>E(l)?l.value=e:null),type:"text",id:"picInput"},null,512),[[G,h(l)]]),o("input",{class:F({"error-input":u.value}),type:"file",onChange:p},null,34),u.value?(i(),b(O,{key:0},{default:r((()=>[f("This file is too big to be uploaded to the wiki. Maximum filesize is 10MB. Compress your file here: "),Ue])),_:1})):P("",!0)])),_:1}))}}),Fe={for:"discoveredlinkInput"},Ge={for:"discoveredInput"},wt=y({__name:"DiscovererInputs",props:{type:{default:"Discoverer"}},setup(e){const t=I(),{discovered:l,discoveredlink:a}=x(t);return(e,t)=>(i(),d(C,null,[h(l)?P("",!0):(i(),b(D,{key:0},{label:r((()=>[o("label",Fe,v(e.type)+" wiki name:",1)])),input:r((()=>[S(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>E(a)?a.value=e:null),type:"text",id:"discoveredlinkInput"},null,512),[[G,h(a)]])])),_:1})),h(a)?P("",!0):(i(),b(D,{key:1},{label:r((()=>[o("label",Ge,v(e.type)+" alias if no wiki:",1)])),input:r((()=>[S(o("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>E(l)?l.value=e:null),type:"text",id:"discoveredInput"},null,512),[[G,h(l)]])])),_:1}))],64))}}),Ne=o("label",{for:"portalglyphsInput"},"Portalglyphs:",-1),Re=o("iframe",{src:"https://nmspar.vercel.app/",sandbox:"allow-scripts allow-same-origin",title:"Glyph Reader",class:"explanation-embed",width:"450",height:"300"},"Glyph Reader",-1),Ae={id:"portalglyphButtons"},We=["id","value"],He={class:"glyph icon is-small"},Oe={name:"portalglyphs",id:"portalglyphsPreview",class:"glyph"},j=12,Tt=y({__name:"GlyphInput",setup(e){const t=/[0-9A-F]/,l=I(),{glyphs:a,isValidGlyphs:n}=x(l);function s(e){if(!e.target||!(e.target instanceof HTMLButtonElement||e.target instanceof HTMLElement&&e.target.parentElement instanceof HTMLButtonElement))return;const t=e.target instanceof HTMLButtonElement?e.target:e.target.parentElement;t instanceof HTMLButtonElement&&a.value.length<j&&(a.value+=t.value)}function u(){a.value=a.value.slice(0,-1)}function p(){a.value=a.value.toUpperCase().split("").filter((e=>t.test(e))).join("")}const c=e=>e.toString(16).toUpperCase(),m=M((()=>a.value.length===j&&!n.value));return(e,t)=>(i(),d(C,null,[w(D,null,{label:r((()=>[o("div",{class:"label-combo"},[Ne,o("button",{class:"button is-small is-danger",type:"button",id:"glyphDeleteButton",onClick:u}," â† Delete ")]),w(A,{img:"shared/glyphs"},{heading:r((()=>[f("Portalglyphs")])),content:r((()=>[f(" Found in Photo Mode. Glyphs are specific to each planet. "),Re])),default:r((()=>[f(" Found in Photo Mode. Glyphs are specific to each planet. ")])),_:1})])),input:r((()=>[S(o("input",{class:F([{"error-input":m.value},"glyphs-input"]),id:"portalglyphsInput",type:"text",maxlength:"12","onUpdate:modelValue":t[0]||(t[0]=e=>E(a)?a.value=e:null),onInput:p},null,34),[[G,h(a)]]),m.value?(i(),b(O,{key:0,class:"error"},{default:r((()=>[f("No valid Eisvana region. See "),w(N,{link:"Eisvana#Claimed_Regions",text:"Eisvana Claimed Regions"}),f(" for a list of valid regions.")])),_:1})):P("",!0)])),_:1}),w(D,null,{default:r((()=>[o("div",Ae,[(i(),d(C,null,B(16,(e=>o("button",{class:"button",type:"button",id:"glyphButton"+e,value:c(e-1),onClick:s},[o("span",He,v(c(e-1)),1)],8,We))),64))]),o("output",Oe,v(h(a)),1)])),_:1})],64))}}),ze=["id"],je=["value"],Dt=y({__name:"DatalistWrapper",props:{data:{},identifier:{}},setup:e=>(e,t)=>(i(),d("datalist",{id:e.identifier},[(i(!0),d(C,null,B(e.data,(e=>(i(),d("option",{value:e},null,8,je)))),256))],8,ze))}),Ye=o("br",null,null,-1),Ke=["value"],St=y({__name:"ResourceInput",props:{index:{},resources:{},item:{}},setup(e){const t=I(),{elements:l}=x(t),a=["Primary","Secondary"];return(e,t)=>(i(),b(D,null,{label:r((()=>[o("label",null,v(e.index?"Secondary":"Primary")+" element",1),w(A,{img:`${e.item}/element`+e.index},{heading:r((()=>[f(v(a[e.index])+" Element",1)])),content:r((()=>[f(" Found on the "+v(e.item)+" scan. ",1),Ye,f(" Leave empty if it isn't listed. ")])),default:r((()=>[f(" Found on the "+v(e.item)+" scan. ",1)])),_:1},8,["img"])])),input:r((()=>[S(o("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>h(l)[e.index]=t)},[(i(!0),d(C,null,B(e.resources,(e=>(i(),d("option",{value:e},v(e),9,Ke)))),256))],512),[[H,h(l)[e.index]]])])),_:1}))}}),Qe=o("label",null,"Do you belong to a department?",-1),Xe=["value"],It=y({__name:"ResearchteamInput",setup(e){const t=I(),{researchteam:l}=x(t);return(e,t)=>(i(),b(D,null,{label:r((()=>[Qe])),input:r((()=>[S(o("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>E(l)?l.value=e:null)},[(i(!0),d(C,null,B(h(ne),((e,t)=>(i(),d("option",{value:e,key:t},v(t),9,Xe)))),128))],512),[[H,h(l)]])])),_:1}))}}),Ze={class:"debug-skip-label is-flex"},qe=y({__name:"DebugActions",setup(e){const t=R(),{debug:l}=x(t),a=()=>localStorage.clear();return L((()=>document.documentElement.dataset.debug=l.value.toString())),(e,t)=>(i(),d(C,null,[o("label",Ze,[S(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>E(l)?l.value=e:null),class:"checkbox",type:"checkbox",id:"skipCheck"},null,512),[[re,h(l)]]),f("Enable debug (no checks, no popups)")]),o("button",{class:"button is-danger is-small mx-4",id:"clearCache",onClick:a}," Clear Localstorage ")],64))}}),Je=U(qe,[["__scopeId","data-v-64bc936b"]]),et=["href"],tt=y({__name:"CreatePageButton",setup(e){const t=I(),{pageName:l}=x(t),a=R(),{debug:n}=x(a),o=k(),s=k(!0),u=X({fail:"",idle:"Create Page"}),r=k(u.idle);function p(){const{isValidData:e,message:t}=Z(!1,n.value);o.value=e.value?Q+"Special:EditPage/"+l.value:void 0,!e.value&&(u.fail=t.value,r.value=u.fail,s.value=e.value,setTimeout((()=>{r.value=u.idle,s.value=!0}),1500))}const c=M((()=>s.value?"is-outlined is-primary":"is-danger no-interaction"));return(e,t)=>(i(),d("a",{class:F([c.value,"button"]),href:o.value,id:"create",rel:"noopener noreferrer",target:"_blank",onClick:p},v(r.value),11,et))}});function q(e){var t;const l=null==(t=e.value)?void 0:t.innerText.replace(/\n{3,}/g,"\n\n").trim();return{articleText:k(l)}}const nt=y({__name:"CopyArticleButton",setup(e){const t=ce(),{text:l,copy:a}=x(t),n=R(),{fullArticleElement:o,debug:s}=x(n),u=k(!0),r=k(!1),p=X({fail:"",idle:"Copy Code",success:"Copied!"}),c=k(p.idle);function m(){l.value=ae(),a.value=!0;const{isValidData:e,message:t}=Z(s.value),{articleText:n}=q(o);navigator.clipboard.writeText(n.value??""),a.value=!0,p.fail=t.value,c.value=e.value?p.success:p.fail,r.value=!0,u.value=e.value,setTimeout((()=>{c.value=p.idle,u.value=!0,r.value=!1}),1500)}const f=M((()=>{const e=r.value?"no-interaction":"";return`${u.value?"is-outlined is-primary":"is-danger"} ${e}`}));return(e,t)=>(i(),d("button",{class:F([f.value,"button"]),id:"copy",type:"button",onClick:m},v(c.value),3))}}),at=o("p",{class:"has-text-centered"},[f(" You must copy the code first, then paste it into the wiki page."),o("br"),f("Also don't forget to upload any images you have put here. ")],-1),lt={class:"buttons"},ot=["download","href"],Et=y({__name:"Actions",setup(e){const t=I(),{name:l,pageName:a}=x(t),n=R(),{fullArticleElement:s}=x(n),u=M((()=>le(l.value)));L((()=>a.value=u.value));const r=M((()=>a.value+".txt")),p=k();function c(){const{articleText:e}=q(s);p.value=e.value?"data:text/plain,"+encodeURIComponent(e.value):void 0}return(e,l)=>(i(),d(C,null,[at,o("div",lt,[w(nt),o("a",{download:r.value,href:p.value,class:"button is-outlined is-primary",id:"download",onClick:c},"Download File",8,ot),w(N,{class:"button is-outlined is-primary",link:"Special:Upload?multiple=true",text:"Upload Pictures"}),w(tt),o("button",{class:"button is-warning",id:"reset",type:"reset",onClick:l[0]||(l[0]=e=>h(t).$reset())}," Reset Inputs "),h(false)?(i(),b(Je,{key:0})):P("",!0)])],64))}}),st=o("span",null,"{{",-1),it=o("span",null,"}}",-1),Pt=y({__name:"WikiTemplate",props:{templateName:{},isSingleLine:{type:Boolean,default:!0}},setup(e){const t=e.isSingleLine?"span":"div";return(e,l)=>(i(),d(C,null,[(i(),b(z(h(t)),null,{default:r((()=>[st,o("span",null,v(e.templateName)+v(e.$slots.default&&e.isSingleLine?"|":""),1)])),_:1})),o("span",null,[T(e.$slots,"default")]),(i(),b(z(h(t)),null,{default:r((()=>[it])),_:1}))],64))}}),ut=o("h2",{class:"explanation-heading"},"Missing/Incorrect Data",-1),rt={class:"explanation-content"},ct=o("form",{method:"dialog"},[o("button",{class:"button",type:"submit",autofocus:""}," Close ")],-1),Vt=y({__name:"ExplanationError",props:{open:{type:Boolean},errorMessage:{}},emits:["update:open"],setup(e){const t=e,l=k("0 -100vh"),a=k(null);return L((()=>{t.open&&(l.value="0 -100vh",oe((()=>{var e;null==(e=a.value)||e.showModal(),l.value="0 0"})))})),(e,t)=>(i(),b(ie,{to:"body"},[o("dialog",{style:se({translate:l.value}),class:"explanation modal-content content",ref_key:"dialogElement",ref:a,onClose:t[0]||(t[0]=t=>e.$emit("update:open",!1))},[ut,o("div",rt,v(e.errorMessage),1),ct],36)]))}});function Y(e){return"function"==typeof e?e():h(e)}typeof WorkerGlobalScope<"u"&&(globalThis,WorkerGlobalScope);const K=()=>{};function pt(e,t){return function(...l){return new Promise(((a,n)=>{Promise.resolve(e((()=>t.apply(this,l)),{fn:t,thisArg:this,args:l})).then(a).catch(n)}))}}const dt=e=>e();function mt(e,t={}){let l,a,n=K;const o=e=>{clearTimeout(e),n(),n=K};return i=>{const s=Y(e),u=Y(t.maxWait);return l&&o(l),s<=0||void 0!==u&&u<=0?(a&&(o(a),a=null),Promise.resolve(i())):new Promise(((e,r)=>{n=t.rejectOnCancel?r:e,u&&!a&&(a=setTimeout((()=>{l&&o(l),a=null,e(i())}),u)),l=setTimeout((()=>{a&&o(a),a=null,e(i())}),s)}))}}function _t(e,t,l={}){const{eventFilter:a=dt,...n}=l;return ue(e,pt(a,t),n)}function Mt(e,t,l={}){const{debounce:a=0,maxWait:n,...o}=l;return _t(e,t,{...o,eventFilter:mt(a,{maxWait:n})})}export{yt as I,$t as O,ye as S,D as _,Pt as a,kt as b,Ct as c,xt as d,Tt as e,St as f,wt as g,It as h,Et as i,Vt as j,Dt as k,Mt as w};
