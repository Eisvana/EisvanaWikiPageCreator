import{O as _,bi as w,b2 as B,aZ as u,V as n,a_ as E,aY as t,U as I,b9 as d,bg as T,b6 as b,N as o,bf as k,T as j}from"./links-CeQPJWG6.js";const F="/assets/icons/help.svg",L=["aria-disabled"],H={class:"tooltiptext nms-font"},N={id:"explanationHeading",class:"explanationHeading title is-4"},O={id:"explanationContent",class:"explanationContent nms-font"},S=["href"],V=["srcset"],M=["src"],z=_({__name:"Explanation",props:{img:{},open:{type:Boolean}},emits:["update:open"],setup(a,{emit:e}){const l=a,s=w("dialog-element"),i=l.img?.trim()??"",p=o("0 -100vh"),r=o(""),c=o(0),m=o(0),g=o(!1),v=o(!1),x=e;function f(){p.value="0 -100vh",r.value||=i,g.value||=!0,x("update:open",!0),j(()=>{s.value&&(s.value.showModal(),p.value="0 0",s.value.scrollTo(0,0))})}function h(){m.value=1,c.value=1}return B(()=>{l.open&&f()}),(a,e)=>(n(),u(E,null,[t("button",{"aria-disabled":!a.$slots.content||void 0,class:"tooltip",onClick:e[0]||(e[0]=e=>a.$slots.content&&f())},[e[4]||(e[4]=t("img",{src:F,alt:"Help"},null,-1)),t("p",H,[d(a.$slots,"default")])],8,L),(n(),I(T,{to:"body"},[g.value?(n(),u("dialog",{key:0,style:k({translate:p.value}),class:"explanation modal-content content",ref:"dialog-element",onClose:e[3]||(e[3]=e=>a.$emit("update:open",!1))},[t("h2",N,[d(a.$slots,"heading")]),t("div",O,[d(a.$slots,"content")]),r.value&&!v.value?(n(),u("a",{key:0,href:`./assets/images/jpg/${r.value}.jpg`,class:"explanationLink loading",id:"explanationLink",rel:"noopener noreferrer",target:"_blank"},[t("picture",null,[t("source",{srcset:`./assets/images/webp/${r.value}.webp`,class:"explanationWebpImg",id:"explanationWebpImg",type:"image/webp"},null,8,V),t("img",{src:`./assets/images/jpg/${r.value}.jpg`,style:k({opacity:c.value,"margin-block-start":m.value+"rem"}),alt:"Explainer Image",class:"explanationFallbackImg",id:"explanationFallbackImg",onLoadstart:e[1]||(e[1]=a=>v.value=!1),onLoad:h,onError:e[2]||(e[2]=a=>v.value=!0)},null,44,M)])],8,S)):b("",!0),e[5]||(e[5]=t("form",{method:"dialog"},[t("button",{class:"button",type:"submit",autofocus:""}," Close ")],-1))],36)):b("",!0)]))],64))}});export{z as _};
