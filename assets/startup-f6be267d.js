import {D as y,aH as j,d as b,aq as G,aI as q,aJ as $,h as L,ap as W,aK as _,aL as d,aM as J,aN as V,u as k,b as S,ax as Y,aO as K,t as Q,aP as X,g as i,l as o,f as u,aQ as Z,e as z,ay as w,aR as B,aS as N,n as f,aT as a,aU as H,a4 as O,s as x,q as P,v as R,m as T,aV as aA,aW as aB,aX as aC,aY as aD,aZ as aE,a_ as D,a$ as aF} from'./links-7c6350cc.js';var{defineProperty:aG}=Object,A=i.output.explanation,aJ=['builderInput','builderlinkInput','discoveredInput','discoveredlinkInput'],E=i.output.actions,h=document.getElementById('skipCheck'),aV=x(`<button id="albumBtn" class="button is-outlined is-primary"
	   data-link="album" data-evt-id="copyButton">
	   Copy Album Wikicode
	   </button>
	   <a class="button is-outlined is-primary" id="albumLink"
	   data-link="album" data-evt-id="openAlbumButton">
	   Open Album
	   </a>`,{},[{element:'copyButton',handler:'click',func:function(){v(this,'albumText')}},{element:'openAlbumButton',handler:'click',func:function(){aW(this)}}]),U=i.output.output;J();V();k(X);S([{element:'nameInput',func:function(){y()}},{element:'researchTeam',func:function(){(j(),b())}},{element:'fileUpload',handler:'change',func:function(){G(this)}},{element:'portalglyphsInput',func:function(){(q(this),$(),y())}},{element:'discoveredInput',func:function(){(L('discoveredInput','discoveredlinkInput'),b())}},{element:'discoveredlinkInput',func:function(){(L('discoveredlinkInput','discoveredInput'),b())}},{element:'docbyInput',func:function(){b()}},{element:'axesInput',handler:'change',func:function(){W()}},{element:'glyphDeleteButton',handler:'click',func:function(){_()}},{element:'fileUploadTooltip',handler:'click',func:function(){d.uploadShown=!0}},{element:'galleryFileUploadTooltip',handler:'click',func:function(){d.galleryUploadShown=!0}}]);Y();A?.innerHTML=K;k({output:{explanationHeading:'explanationHeading',explanationContent:'explanationContent',explanationLink:'explanationLink',explanationWebpImg:'explanationWebpImg',explanationFallbackImg:'explanationFallbackImg'}});for(const e of aJ){var t=i.input[e];t&&(t.dataset.player='')}Q();function aK(){var r,p;const e=document.querySelectorAll('.table .data input, .table .data textarea'),t=document.querySelectorAll('.table .data select'),n=document.getElementsByTagName('output');for(const a of e)switch(a.type.toLowerCase()) {case 'checkbox':a.checked=!1;break;case 'radio':const m=document.querySelectorAll('input[type="radio"]:not([checked])'),s=document.querySelectorAll('input[type="radio"][checked]');for(const c of [...m])c.checked=!1;for(const c of [...s])c.checked=!0;break;default:a.value=''}for(const a of t)a.value=(p=(r=a.options)==null?void 0:r[0])==null?void 0:p.value;for(const a of n)a.innerText='';Z();for(const a in u)delete u[a];var l=document.querySelectorAll('.error');for(const a of l)z(a.previousElementSibling);for(const a in w)delete w[a];(typeof o.resetExternal=='function'&&o.resetExternal(),B(),N())}function v(e,t){var a,m,s,c;e.style.pointerEvents='none';var{innerText:n,dataset:{link:l}}=e,r=H(e);(f.text=a(JSON.stringify(u)),f.copy=!0,f.link=l);if(r){(e.classList.remove('is-primary'),e.classList.add('is-danger'),e.innerText=r,setTimeout(()=>(e.classList.remove('is-danger'),e.classList.add('is-primary'),e.innerText=n,e.style.pointerEvents=''),1500));return}(navigator.clipboard.writeText(((c=(s=(m=(a=i)==null?void 0:a.output)==null?void 0:m[t])==null?void 0:s.innerText)==null?void 0:c.replaceAll(`


`,`

`))??t),f.copy=!0,f.link=l,e.innerText='Copied!',setTimeout(()=>(e.innerText=n,e.style.pointerEvents=''),1500))}function aL(r){const n='data:text/plain',l=u.name;(r.href=n+','+encodeURIComponent(i.output.fullArticle.innerText.replaceAll(`


`,`

`)),r.download=`${l}.txt`)}function M(e,t=u.name){e.style.pointerEvents='none';F(e,O+'Special:EditPage/'+t)}function F(e,t){const n=H(e),l=['#','<','>','[',']','{','|','}'];if(!n)(e.href=t.replace(new RegExp(`[${l.join('')}]`, 'g'),' '),e.target='_blank',e.rel='noopener noreferrer',e.style.pointerEvents='');else{var p=e.innerText;(e.removeAttribute('href'),e.className='button is-danger',e.innerText=n,setTimeout(()=>(e.className='button is-outlined is-primary',e.innerText=p,e.style.pointerEvents=''),1500))}}function aM(){var m,l=document.createElement('button'),r=document.createElement('a'),a=[l,r];if(typeof o.redirectPage!='function')return;const e=document.getElementById('reset'),t=['copyRedirect','createRedirect'],n=document.createElement('p');if((n.id='redirectNote',n.classList.add('has-text-centered'),n.innerText='Please create a redirect for your page!',!o.redirectPage())){(t.forEach(()=>{var s=e.previousElementSibling;t.includes(s.id)&&s.remove()}),(m=document.getElementById(n.id))==null||m.remove());return}(l.innerText='Copy Redirect Code',l.type='button');(r.rel='noopener noreferrer',r.target='_blank',r.innerText='Create Redirect',S([{element:l,handler:'click',func:function(){v(this,`#REDIRECT [[${u.name}]]`)}},{element:r,handler:'click',func:function(){M(this,o.redirectPage())}}]));for(let s=0;s<a.length;s++){const c=a[s],I=t[s];if(document.getElementById(I))return;(c.classList.add('button','is-outlined','is-primary'),c.id=I,c.dataset.link='redirect',e.insertAdjacentElement('beforebegin',c))}e.parentElement.insertAdjacentElement('beforebegin',n)}E.innerHTML='';P(x(`
<button class="button is-outlined is-primary" id="copy" type="button" data-link="page" data-evt-id="copyButton">Copy Wikicode</button>
<a class="button is-outlined is-primary" id="download" data-evt-id="downloadButton">Download File</a>
<a class="button is-outlined is-primary" href="https://nomanssky.fandom.com/wiki/Special:Upload?multiple=true" id="uploadLink" rel="noopener noreferrer" target="_blank">Upload Pictures</a>
<a class="button is-outlined is-primary" id="create" data-link="page" data-evt-id="createPageButton">Create Page</a>
<button class="button is-warning" id="reset" type="reset" data-evt-id="resetButton">Reset Inputs</button>`,{},[{element:'copyButton',handler:'click',func:function(){v(this,'fullArticle')}},{element:'downloadButton',handler:'click',func:function(){aL(this)}},{element:'createPageButton',handler:'click',func:function(){M(this)}},{element:'resetButton',handler:'click',func:()=>aK()}]),E,'afterbegin');E.insertAdjacentHTML('beforebegin',`<p class="has-text-centered">You must copy the code first, then paste it into the wiki page.<br>Also don't forget to upload any images you have put here.</p>`);x(`
<label style="display:flex; gap: .3rem"><input class="checkbox" type="checkbox" id="skipCheck" data-evt-id="skipCheck">Enable debug (no checks, no popups)</label>;
<button style="margin: 0 1rem" class="button is-danger is-small" id="clearCache" data-evt-id="clearCache">Clear Localstorage</button>`,{},[{element:'clearCache',handler:'click',func:()=>localStorage.clear()},{element:'skipCheck',handler:'change',func:function(){var e=this.checked;(d.debug=e,d.uploadShown=e,d.galleryUploadShown=e,document.documentElement.dataset.debug=`${e}`,y())}}]);aG(d,'debug',{configurable:!1,writable:!1,value:!1});h&&new URLSearchParams(window.location.search).has('debug')&&(h.checked=!0,R(h,'change'));function aW(e){e.style.pointerEvents='none';var t=(()=>{if(typeof o.albumLinkGen=='function')return o.albumLinkGen();if(u.catalogue)return u.catalogue;(console.warn('No wiki page provided. Define the function `albumLinkGen()` and add it to the `globalFunctions` object or define a catalogue in the `pageData.catalogue` property!'),e.style.pointerEvents='')})();t&&F(e,O+t)}function aX(){var e=(()=>typeof o.albumItemTypeExternal=='function'?o.albumItemTypeExternal():u.type)();i.output.album.innerText=e}function aY(){var t=i.output.albumDesc;t?.innerText=e}function aZ(){var t=i.output.albumDiscoverer;t?.innerText=e}function bA(){var e=(()=>typeof o.albumNameExternal=='function'?o.albumNameExternal():u.name)();i.output.albumName.innerText=e}function bB(){var t=i.output.albumOther;t?.innerText=e}function bC(){var e=(()=>typeof o.albumTypeExternal=='function'?o.albumTypeExternal():'')();i.output.albumType.innerText=e}function bD(){var e={albumHeaderName:'name',albumImage:'image',albumGlyphs:'portalglyphs'};for(const t in e){var n=i.output[t];n.innerText=u[e[t]]}}function bE(){u.albumInitialised?e():document.addEventListener('albumLoaded',()=>e());function e(){(bD(),aZ(),bA(),bB(),bC(),aX(),aY())}}const bF={output:{album:'album',albumType:'albumType',albumHeaderName:'albumHeaderName',albumImage:'albumImage',albumName:'albumName',albumOther:'albumOther',albumGlyphs:'albumGlyphs',albumDiscoverer:'albumDiscoverer',albumText:'albumText',albumDesc:'albumDesc'}},C=i.output.albumEntry,g=i.output.albumActions;C instanceof HTMLDivElement&&(C.innerHTML=`<h2 class="title is-5 has-text-left has-text-weight-bold mb-2">Eisvana <!-- //NOSONAR
	(this is fine since this snippet is inserted somewhere else)-->
	<output id="album" name="type"></output> <output id="albumType"></output> entry for <output id="albumHeaderName"
		name="name"></output>:
</h2>
<div id="albumText" class="wikiText">
	| {{album| file=<output name="image" id="albumImage"></output> | name=[[<output id="albumName"></output>]]
	| other=<output id="albumOther"></output> | glyph=<output id="albumGlyphs" name="portalglyphs"></output> |
	<output id="albumDiscoverer"></output>}} <output id="albumDesc"></output>
</div>`);if(g instanceof HTMLDivElement){(P(aV,g,'afterbegin'),k(bF),document.dispatchEvent(new Event('albumLoaded')),T('albumInitialised',!0));var e=`<p style="width:100%" class="has-text-centered mb-3">Please don't forget to create an album entry!</p>`;g.insertAdjacentHTML('afterbegin',e)}aA(i.output.portalglyphButtons,'portalglyphsInput');T('pageType',aB());aC();B();aD();d.uploadShown=!0;d.galleryUploadShown=!0;N();d.debug||(d.uploadShown=!1,d.galleryUploadShown=!1);y();U.onmousedown=()=>aE();for(const t of U.children)(t.onmouseup=n=>D(n.target),t.ontouchend=n=>D(n.target));aF();try {R(i.input.portalglyphsInput,'input')} catch {}T('eventListeners',!0);export{bA as a,bB as b,aZ as c,bE as d,v as e,aW as f,aV as g,aY as h,aX as i,aM as t};
