import {g as i,i as V,f as n,j as z,an as J,A as r,ao as A,w as f,e as K,v as q,y as Q,z as W,p as X,ap as Y,k as E,aq as Z,t as a,b as _,l as d,m as t} from'./links-7c6350cc.js';import {h as N,a as v,i as k,b as C,c as y,d as c} from'./startup-f6be267d.js';var{keys:aA}=Object;function D(){var t=i.output.regNr;t.innerText=V(n.region)}function x(){const t=z(),e=i.output.addInfo;e.innerText='[['+F()+']]'+t}function $(){const t=n.mainColour,e=n.secColour,s=n.name,o=n.subtype.toLowerCase(),a=n.type.toLowerCase(),u=i.input.appearanceInput;if(!(t.trim()||e.trim()))return;const p=(()=>t.trim()?`${E(t)} ${t.trim()}`:E(a))(),c=(()=>e.trim()?` with ${e} accents`:'')();(u.value=`${s} is ${p} ${o=='starter pistol'?o:a} multi-tool${c}.`,f(u))}function R(){(aB(),n.albumInitialised?N():document.addEventListener('albumLoaded',()=>N()))}function L(){(R(),b())}function aB(){const{srLocName:t,planet:e,moon:s,axes:o}=n,a=n.location.toLowerCase(),u=X(e,s);let p,c;var l=(()=>{const I=n.srLoc;return t||I.includes('Space')?I.toLowerCase():a.includes('Space')?a:u})();a.includes('space')?(p=`fly to the ${a}`,c=`the ${l}`,a==l||!t?p='take from cabinet':l.includes('space')||(c=`${l} [[${t}]]`)):(c=`${l} [[${t}]]`,p=`fly to ${u} (${o})`,l.toLowerCase().includes('space')?c=`the ${l}`:s&&l=='moon'&&t==s||!s&&l=='planet'&&t==e?p=`fly to ${o}`:t||(c=`${u}`,p=`fly to ${o}`));(f(`Save and reload on ${c}, then ${p}.`,'acquirement'),n.actualSrLoc=l)}function b(){const t=n.srLocName,e=n.location,p=['srImgInput','sysImgInput','cabInput','coordsInput'],c=[{},{},{},{}],l=J(),y=(()=>{var m=n.srLoc;return m.includes('Space')||t?m:e.includes('Space')?e:l})(),I=(()=>e=='Sentinel Pillar'?'Pillar':'Cabinet')(),U=(()=>e.includes('Space')?'':`(${I} ${l} highlighted)`)();function g(m,S,h){(m.picName=S,m.desc=h)}(g(c[0],n.srPlanetImg||'nmsMisc_notAvailable.png',`Save/Reload ${y}`),g(c[1],n.sysImg||'nmsMisc_notAvailable.png',`System ${U}`),!e.includes('Space')&&(g(c[2],n.cabinetPlanetImg||'nmsMisc_notAvailable.png',`${I} ${l}`),g(c[3],n.axesImg||'nmsMisc_notAvailable.png','Coordinates')));var w=[],_=i.output.acquirementGallery;for(let m=0;m<c.length;m++){const S=c[m],h=S.picName,v=S.desc,P=p[m];if(!h||!v){r(i.input[P],'none');continue}r(i.input[P],'');var T=document.createElement('span');(T.style.display='block',T.innerText=`${h}|${v}`,w.push(T.outerHTML),i.output[`${P}Label`].innerText=v)}_.innerHTML=w.join('')}function G(){const t=n.type,e=i.input.locInput;(t in A?(r(e,'none'),e.value=A[t],f(e)):r(e,''),M(),B(),b())}function aC(){const t=n.location,e=i.input.typeInput,s=i.input.subtypeInput;if(typeof t!='string'||!(e instanceof HTMLSelectElement)||!(s instanceof HTMLSelectElement))return;var o=structuredClone(A),a=Object.fromEntries(Object.entries(o).map(u=>u.reverse()));delete o.Royal;(t in a?(r(e,'none'),r(s,'none'),e.value=a[t],f(e)):r(e,''),M(),B(),b())}function H(){const t=n.location,e=['planetInput','moonInput','axesInput'];for(const s of e){const o=i.input[s],a=t.includes('Space');(r(o,a?'none':''),a&&(o.value='',f(o),K(o)))}}function O(){const t=n.srLoc,e=i.input.srInput;t.includes('Space')?(r(e,'none'),e.value='',f(e)):r(e,'')}function M(){const t=n.location,e=i.input.costInput,s=t=='Sentinel Pillar'||t=='Harmonic Camp';(r(e,s?'none':''),s&&(e.value='',q(e,'input')))}function B(){var e=i.input.crystalsInput;['Royal','Sentinel','Atlantid'].includes(n.type)?(r(e,'none')):r(e,'')}function j(){const t=n.type,e=i.input.subtypeInput,s={Pistol:[['Pistol','Starter Pistol'],['Standard','Starter Pistol']],Rifle:[['Rifle','SMG'],['Standard (Large)','SMG (Small)']],Experimental:[['Rifle','Pistol'],['Rifle (Large)','Pistol (Small)']],Alien:[['Rifle','SMG','Pistol'],['Rifle (Large)','SMG (Medium)','Pistol (Small)']]},o=aA(s).includes(t);(r(e,o?'':'none'),o?Q(e,s[t][0],s[t][1]):e.value='',W(e))}function aD(){return'Album'}function aE(){return'Multi-Tool'}function aF(){function t(){var s=n.subtype;return !s||n.isStarter?'':`${s} -`}return`<br>{{Class|${n.class}}} - ${t()} ${n.slots} Slots`}function aG(){return (()=>{const e=n.axes,o=n.acquirement.replace('Save and reload','S/r');return e&&!Y(!1)?o.replace(/[()]/g,'').replace(e,`(${e})`):o})()}function F(){var{type:t}=n;return`Eisvana Multi-Tool Album - ${t}`}function aH(){const t=['','Discovery Menu','Price Page','Base Stats','Minor Settlement','Sentinel Pillar','Harmonic Camp','Monolith','Tool in Hand','First Person View'],e=n.location,s=['Minor Settlement','Sentinel Pillar','Harmonic Camp','Monolith'];if(s.includes(e))s.filter(a=>a!==e).forEach(a=>t.splice(t.indexOf(a),1));else for(let o=t.length-1;o>=0;o--)s.includes(t[o])&&t.splice(o,1);n.galleryArray=t}d.albumDescExternal=()=>aG();d.albumOtherExternal=()=>aF();d.albumItemTypeExternal=()=>aE();d.albumTypeExternal=()=>aD();d.generateGalleryArray=()=>aH();d.albumLinkGen=()=>F();t('galleryExplanationExternal',`
	There is a preferred order of pictures:
	<div class='is-flex is-justify-content-center'>
		<ol class='has-text-left'>
			<li>Discovery Menu</li>
			<li>Price Page</li>
			<li>Base Stats</li>
			<li>Minor Settlement/Sentinel Pillar/Harmonic Camp/Monolith</li>
			<li>Tool in Hand</li>
			<li>First Person View</li>
		</ol>
	</div>`);_([{element:'nameInput',func:()=>(v(),$())},{element:'typeInput',func:()=>(x(),G(),j(),E(n.type,'enPrefix'),k(),C(),$())},{element:'subtypeInput',func:()=>(C(),x(),$(),k())},{element:'researchTeam',func:()=>x()},{element:'locInput',func:function(){(L(),H(),M(),aC())}},{element:'srlocInput',func:()=>(L(),O())},{element:['srInput','planetInput','moonInput'],func:()=>L()},{element:'axesInput',func:()=>R()},{element:['slotsInput','classInput'],func:()=>C()},{element:['srImgInput','sysImgInput','cabInput','coordsInput'],func:()=>b()},{element:['srImgUpload','sysImgUpload','cabUpload','coordsUpload'],handler:'change',func:function(){(Z(this),b())}},{element:'portalglyphsInput',func:()=>D()},{element:['discoveredInput','discoveredlinkInput'],func:()=>y()},{element:['mainColourInput','secColourInput'],func:()=>$()},{element:'hideAppearanceButton',handler:'click',func:function(){a('appearance',this)}}]);L();x();G();j();H();O();D();M();c();E(n.type??'','enPrefix');
